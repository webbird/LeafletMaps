/**
* jQuery asTooltip v0.4.3
* https://github.com/amazingSurge/jquery-asTooltip
*
* Copyright (c) amazingSurge
* Released under the LGPL-3.0 license
*/
!function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof exports)e(require("jquery"));else{var i={exports:{}};e(t.jQuery),t.jqueryAsTooltipEs=i.exports}}(this,function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n={namespace:"asTooltip",skin:"",closeBtn:!1,position:{value:"right middle",target:!1,container:!1,auto:!1,adjust:{mouse:!0,resize:!0,scroll:!0}},show:{target:!1,event:"mouseenter",delay:0},hide:{target:!1,event:"mouseleave",delay:0,container:!1,inactive:!1},content:null,contentAttr:"title",ajax:!1,tpl:'<div class="{{namespace}}"><div class="{{namespace}}-inner"><div class="{{namespace}}-loading"></div><div class="{{namespace}}-content"></div></div></div>',onInit:null,onShow:null,onHide:null,onFocus:null,onBlur:null},a=(0,i.default)(window),l=[],r=function(t,e,o,s){var n=void 0,a=void 0,l=void 0,r=void 0,u=void 0,h=(0,i.default)(t),c=0,d=0;n=s?t:h.offset(),a=s?0:h.outerWidth(),l=s?0:h.outerHeight(),r=e.outerWidth(),u=e.outerHeight();for(var p=0;p<o.length;p++)switch(o[p]){case"left":c=0===p?n.left-r:n.left;break;case"middle":switch(o[0]){case"left":case"right":d=n.top+(l-u)/2;break;case"top":case"bottom":c=n.left+(a-r)/2}break;case"right":c=0===p?n.left+a:n.left+a-r;break;case"top":d=0===p?n.top-u:n.top;break;case"bottom":d=0===p?n.top+l:n.top+l-u}return{left:Math.round(c),top:Math.round(d)}},u=function(t,e,o){var s=(0,i.default)(t),n=s.offset(),l=o.offset(),r="BODY"===o[0].tagName?a.scrollLeft():o.scrollLeft(),u="BODY"===o[0].tagName?a.scrollTop():o.scrollTop(),h="BODY"===o[0].tagName?n:{top:n.top-l.top,left:n.left-l.left},c=s.outerWidth(),d=s.outerHeight(),p=e.outerWidth(),f=e.outerHeight(),g="BODY"===o[0].tagName?a.innerWidth():o.outerWidth(),m="BODY"===o[0].tagName?a.innerHeight():o.outerHeight(),v=[];return f>h.top-u&&v.push("top"),f+d+h.top>u+m&&v.push("bottom"),p>h.left-r&&v.push("left"),p+c+h.left>r+g&&v.push("right"),v},h=function(){function t(o,s){e(this,t);var a=(0,i.default)(document.body),l=o[0]===document?a:o,r=void 0,u=void 0;u=this.parseTargetData((0,i.default)(l).data()),(r=this.options=i.default.extend(!0,{},n,s,u)).position.container=r.position.container?(0,i.default)(r.position.container):a,r.position.target||(r.position.target=l),r.show.target||(r.show.target=l),r.hide.target||(r.hide.target=l),this.$element=(0,i.default)(l),this.namespace=this.options.namespace,r.content=this.getContent(),this.enabled=!0,this.isOpen=!1,this.loadFlag=!1,this.moveFlag=!1,this.showTimer=null,this.hideTimer=null,this.classes={show:this.namespace+"_isShow",isLoading:this.namespace+"_isLoading",active:this.namespace+"_active",enabled:this.namespace+"_enabled"},this.trigger("init"),this.init()}return s(t,[{key:"init",value:function(){var t=this,e=this.options,o=e.show.target,s=e.hide.target,n=e.show.event,l=e.hide.event;this.$tip=(0,i.default)(e.tpl.replace(/{{namespace}}/g,this.namespace)),this.$loading=(0,i.default)("."+this.namespace+"-loading",this.$tip),this.$content=(0,i.default)("."+this.namespace+"-content",this.$tip),o===s&&n===l?this._bind(o,n,function(e){t.isOpen?t.hideMethod(e):t.showMethod(e)}):(this._bind(o,n,function(e){t.showMethod(e)}),this._bind(s,l,function(e){t.hideMethod(e)})),"BODY"===e.position.container[0].tagName&&(e.position.adjust.resize&&this._bind(a,"resize",function(){t.isOpen&&t.setPosition()}),e.position.adjust.scroll&&this._bind(a,"scroll",function(){t.isOpen&&t.setPosition()}))}},{key:"trigger",value:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];var s=[this].concat(i);this.$element.trigger("asTooltip::"+t,s);var n="on"+(t=t.replace(/\b\w+\b/g,function(t){return t.substring(0,1).toUpperCase()+t.substring(1)}));"function"==typeof this.options[n]&&this.options[n].apply(this,i)}},{key:"_bind",value:function(t,e,o,s){if(t&&o&&e.length){var n=s?e:e+"."+s;return(0,i.default)(t).on(n,i.default.proxy(o,this)),this}}},{key:"_unbind",value:function(t,e,o){return t&&(0,i.default)(t).unbind(o?e:e+"."+o),this}},{key:"parseTargetData",value:function(t){var e={};return i.default.each(t,function(t,i){var o=t.split("_"),s=o.length,n=e;if(1===s)e[o[0]]=i;else for(var a=0;a<s;a++)0===a?void 0===e[o[a]]&&(e[o[a]]={}):a===s-1?n[o[a]]=i:void 0===n[o[a]]&&(n[o[a]]={}),n=e[o[a]]}),e}},{key:"parseTpl",value:function(t){return t.replace("{{namespace}}",self.namespace)}},{key:"getDelegateOptions",value:function(){var t={};return this._options&&i.default.each(this._options,function(e,i){n[e]!==i&&(t[e]=i)}),t}},{key:"showMethod",value:function(t){var e=t instanceof this.constructor?t:(0,i.default)(t.currentTarget).data("asTooltip"),o=this.options;if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),(0,i.default)(t.currentTarget).data("asTooltip",e)),o.ajax||e.options.content){if(e.isOpen?clearTimeout(e.hideTimer):(clearTimeout(e.showTimer),e.showTimer=setTimeout(function(){i.default.proxy(e.show,e)()},o.show.delay)),"mouse"===o.position.target){if(this.moveFlag)return;this.isFirst=!0,(0,i.default)(document).on("mousemove.asTooltip",i.default.proxy(this.move,e)),this.moveFlag=!0}"click"===o.hide.event&&o.hide.container&&this._bind(o.hide.container,o.hide.event,function(t){var o=(0,i.default)(t.target);0===o.closest(e.$el).length&&0===o.closest(e.$tip).length&&e.isOpen&&i.default.proxy(e.hide,e)()})}}},{key:"hideMethod",value:function(t){var e=t instanceof this.constructor?t:(0,i.default)(t.currentTarget).data("asTooltip"),o=this.options,s=!1;e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),(0,i.default)(t.currentTarget).data("asTooltip",e)),(o.ajax||e.options.content)&&(e.isOpen?"mouse"===o.position.target&&this.moveFlag||("click"===o.hide.event&&o.hide.container&&this._unbind(o.hide.container,o.hide.event),o.hide.inactive&&(this._bind(e.$tip,"mouseenter.asTooltip",function(){s=!0}),this._bind(e.$tip,"mouseleave.asTooltip",function(){s=!1,clearTimeout(e.hideTimer),e.hideTimer=setTimeout(function(){i.default.proxy(e.hide,e)()},e.options.hide.delay),e._unbind(e.$tip,"mouseenter.asTooltip mouseleave.asTooltip")})),clearTimeout(e.hideTimer),e.hideTimer=setTimeout(function(){s||i.default.proxy(e.hide,e)()},o.hide.delay)):clearTimeout(e.showTimer))}},{key:"move",value:function(t){var e=Math.round(t.pageX),o=Math.round(t.pageY),s=this.$element.offset().top,n=this.$element.offset().left,a=this.$element.outerWidth(),l=this.$element.outerHeight();e>=n&&e<=n+a&&o>=s&&o<=s+l?this.options.position.adjust.mouse?this.setPosition(t):this.isFirst&&(this.setPosition(t),this.isFirst=!1):((0,i.default)(document).off("mousemove.asTooltip"),this.moveFlag=!1,this.hideMethod(this.$element.data("asTooltip")))}},{key:"getContent",value:function(){return this.$element.attr(this.options.contentAttr)||("function"==typeof this.options.content?this.options.content():this.options.content)}},{key:"setPosition",value:function(t){var e=void 0,s=void 0,n=void 0,a=this.options,l=this.$el,h=a.position.container,c=!1,d=!1;n=h.css("position");var p=a.position.value.split(" ");if("mouse"===a.position.target&&t?(l={top:Math.round(t.pageY),left:Math.round(t.pageX)},d=!0):"object"===o(a.position.target)&&(l=a.position.target),a.position.auto&&"mouse"!==a.position.target){var f=u(l,this.$tip,h),g=["top","right","bottom","left"];i.default.each(f,function(t,e){g=i.default.map(g,function(t){return t!==e?t:null})}),g.length>0&&(p[0]=g[0])}this.$tip.addClass(this.namespace+"-element-"+p[0]).addClass(this.namespace+"-arrow-"+p[1]),e=r(l,this.$tip,p,d),"static"!==n&&(s=h.offset(),c=!0),this.$tip.css({top:e.top+(c?-s.top:0),left:e.left+(c?-s.left:0)})}},{key:"loadToggle",value:function(){this.loadFlag?(this.$tip.removeClass(this.namespace+"_isLoading"),this.loadFlag=!1):(this.$tip.addClass(this.namespace+"_isLoading"),this.loadFlag=!0)}},{key:"statusToggle",value:function(t){t?this.$element.removeClass(this.classes.active):this.$element.addClass(this.classes.active)}},{key:"rePosition",value:function(t){return this.setPosition(t),this}},{key:"setContent",value:function(){var t=this.options;t.ajax&&this.loadToggle(),this.$content.html(t.content),this.$tip.appendTo(t.position.container),"mouse"!==t.position.target&&this.setPosition()}},{key:"show",value:function(){var t=this.options;if(this.enabled)return t.skin&&this.$tip.addClass(this.namespace+"_"+t.skin),t.ajax&&t.ajax(this),this.setContent(this.isOpen),this.statusToggle(this.isOpen),this.isOpen=!0,this.trigger("show"),this}},{key:"hide",value:function(){return this.options.ajax&&(this.$tip.removeClass(this.namespace+"_isLoading"),this.loadFlag=!1),this.$tip.off(".asTooltip"),this.statusToggle(this.isOpen),this.$tip.remove(),this.isOpen=!1,this.trigger("hide"),this}},{key:"enable",value:function(){return this.enabled=!0,this.$element.addClass(this.classes.enabled),this.trigger("enable"),this}},{key:"disable",value:function(){return this.enabled=!1,this.$element.removeClass(this.classes.enabled),this.trigger("disable"),this}},{key:"destroy",value:function(){return this.$element.off(".asTooltip"),this.trigger("destroy"),this}}],[{key:"closeAll",value:function(){l.map(function(t){t.isOpen&&t.hide()})}},{key:"setDefaults",value:function(t){i.default.isPlainObject(t)&&i.default.extend(!0,n,t)}}]),t}(),c={version:"0.4.3"},d=i.default.fn.asTooltip,p=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),s=1;s<e;s++)o[s-1]=arguments[s];if("string"==typeof t){var n=t;if(/^_/.test(n))return!1;if(!/^(get)/.test(n))return this.each(function(){var t=i.default.data(this,"asTooltip");t&&"function"==typeof t[n]&&t[n].apply(t,o)});var a=this.first().data("asTooltip");if(a&&"function"==typeof a[n])return a[n].apply(a,o)}return this.each(function(){(0,i.default)(this).data("asTooltip")||(0,i.default)(this).data("asTooltip",new h(this,t))})};i.default.fn.asTooltip=p,i.default.asTooltip=i.default.extend({setDefaults:h.setDefaults,closeAll:h.closeAll,noConflict:function(){return i.default.fn.asTooltip=d,p}},c)});
//# sourceMappingURL=jquery-asTooltip.min.js.map
